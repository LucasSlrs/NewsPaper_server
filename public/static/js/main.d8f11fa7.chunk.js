(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{31:function(e,t,n){},40:function(e,t,n){},59:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(32),i=n.n(r),o=(n(40),n(2)),l=n(5),h=n(6),j=n(8),u=n(7),d=n(16),b=n.n(d),p=n(3),O=function(e){return Object(c.jsx)("form",{onSubmit:e.handleSearch,children:Object(c.jsx)("input",{className:"searchbar",name:"search",onChange:e.handleChange,type:"search",value:e.inputValue,placeholder:"Research..."})})},f=b.a.create({baseURL:"https://twenty-four-chrono.herokuapp.com/newsPaper",withCredentials:!0});function g(e){if(e.response)throw console.log(e.response.data.message),e.response.data;throw e}var m=function(e){return f.post("/auth/signup",e).then((function(e){return e.data})).catch(g)},x=function(e){return f.post("/auth/signin",e).then((function(e){return e.data})).catch(g)},v=function(){return f.delete("/auth/logout").catch(g)},C=function(){return f.get("/auth/isLoggedIn").then((function(e){return e.data})).catch(g)},y=function(e){return f.patch("/users/article",e).then((function(e){return e.data})).catch(g)},N=function(){return f.get("/users/dashboard").then((function(e){return e.data})).catch(g)},L=function(e){return f.patch("/users/dashboard",{articleId:e}).then((function(e){return e.data})).catch(g)},k=(n(59),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={infos:[],searchInfo:"",selectValue:""},e.handleSelect=function(t){console.log("selected",t.target.value),e.setState({selectValue:t.target.value}),t.preventDefault(),console.log("SELECTION",t.target.value),b.a.get("https://api.currentsapi.services/v1/search?language=".concat(t.target.value,"&apiKey=vUAL2v06nYO7IMpRBTeP31MLtxRms900C_Q1CiUo-bWM1st9")).then((function(t){console.log("response from api",t),e.setState({infos:t.data.news})})).catch((function(e){return console.log(e)}))},e.handleClickBtn=function(e){y(e).then((function(e){console.log("data:",e)})).catch((function(e){console.log(e)}))},e.handleChange=function(t){console.log("ICI",t.target.value),e.setState({searchInfo:t.target.value})},e.handleSearch=function(t){t.preventDefault();var n=e.state.searchInfo;console.log("SEARCH",n),b.a.get("https://api.currentsapi.services/v1/search?keywords=".concat(n,"&apiKey=vUAL2v06nYO7IMpRBTeP31MLtxRms900C_Q1CiUo-bWM1st9")).then((function(t){console.log("response from api ->",t),e.setState({infos:t.data.news,searchInfo:""})})).catch((function(e){return console.log(e)}))},e}return Object(h.a)(n,[{key:"handleClick",value:function(e){}},{key:"componentDidMount",value:function(){var e=this;b.a.get("https://api.currentsapi.services/v1/latest-news?apiKey=vUAL2v06nYO7IMpRBTeP31MLtxRms900C_Q1CiUo-bWM1st9").then((function(t){e.setState({infos:t.data.news})}))}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Latest News"}),Object(c.jsxs)("div",{className:"select-drop",children:[Object(c.jsx)("label",{className:"drop-label",htmlFor:"select-lang",children:"Chose your language"}),Object(c.jsxs)("select",{name:"language",onChange:this.handleSelect,id:"select-lang",children:[Object(c.jsx)("option",{value:"",children:"-- Select a language --"}),Object(c.jsx)("option",{value:"ar",children:"Arabic"}),Object(c.jsx)("option",{value:"zh",children:"Chinese"}),Object(c.jsx)("option",{value:"nl",children:"Dutch"}),Object(c.jsx)("option",{value:"en",children:"English"}),Object(c.jsx)("option",{value:"fi",children:"Finnish"}),Object(c.jsx)("option",{value:"fr",children:"French"}),Object(c.jsx)("option",{value:"de",children:"German"}),Object(c.jsx)("option",{value:"hi",children:"Hindi"}),Object(c.jsx)("option",{value:"it",children:"Italian"}),Object(c.jsx)("option",{value:"ja",children:"Japanese"}),Object(c.jsx)("option",{value:"ko",children:"Korean"}),Object(c.jsx)("option",{value:"msa",children:"Malay"}),Object(c.jsx)("option",{value:"pt",children:"Portuguese"}),Object(c.jsx)("option",{value:"ru",children:"Russian"}),Object(c.jsx)("option",{value:"es",children:"Spanish"})]})]}),Object(c.jsx)(O,{handleChange:this.handleChange,searchInfo:this.state.searchInfo,handleSearch:this.handleSearch}),this.state.infos.map((function(t){return Object(c.jsxs)("div",{className:"div-by-div",children:[Object(c.jsx)("img",{src:t.image,onError:function(e){e.target.onerror=null,e.target.src="https://cdn.britannica.com/25/93825-050-D1300547/collection-newspapers.jpg"},alt:"Article"}),Object(c.jsx)(p.b,{to:{pathname:"/article/".concat(t.id),info:t},children:Object(c.jsxs)("h3",{onClick:function(){return e.handleClick(t)},children:[" ",t.title]})}),Object(c.jsx)("button",{className:"btn-add",onClick:function(){return e.handleClickBtn(t)},children:"Add this article"})]},t.id)})),Object(c.jsx)("footer",{className:"footer"})]})}}]),n}(a.Component)),w=n(15),S=s.a.createContext(),I=(n(31),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={},e.handleChange=function(t){var n=t.target.value,c=t.target.name;e.setState(Object(w.a)({},c,n))},e.handleSubmit=function(t){t.preventDefault(),m(e.state).then((function(t){e.props.history.push("/signin")})).catch((function(e){console.log(e)}))},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("section",{className:"form-section",children:[Object(c.jsx)("header",{className:"header",children:Object(c.jsx)("h1",{children:"Welcome"})}),Object(c.jsxs)("form",{autoComplete:"off",className:"form",onChange:this.handleChange,onSubmit:this.handleSubmit,children:[Object(c.jsx)("h2",{children:"Create your account"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"fisrtName",children:"First name"}),Object(c.jsx)("input",{type:"text",name:"firstName",className:"input",id:"firstName"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"lastName",children:"Last name"}),Object(c.jsx)("input",{type:"text",name:"lastName",className:"input",id:"lastName"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",className:"input",id:"email"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",className:"input",id:"password"})]}),Object(c.jsx)("button",{className:"btn-submit",children:"Register"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:"Already have an account?"}),Object(c.jsx)(p.b,{to:"/signin",children:"Log in"})]})]})]})}}]),n}(a.Component));I.contectType=S;var A=Object(o.g)(I),F=function(e){return Object(c.jsx)(A,{})},M=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{children:Object(c.jsx)(k,{})})}}]),n}(s.a.Component);M.contextType=S;var D=M,U=(n(65),n(13)),E=function(e){return function(t){return Object(c.jsx)(S.Consumer,{children:function(n){return Object(c.jsx)(e,Object(U.a)(Object(U.a)({},t),{},{context:n}))}})}},R=(n(66),E((function(e){var t=e.context;return Object(c.jsxs)("nav",{className:"NavMain",children:[Object(c.jsx)(p.c,{exact:!0,to:"/",children:Object(c.jsx)("h1",{className:"logo",children:"24h Chrono"})}),t.isLoggedIn&&Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)(p.c,{exact:!0,to:"/dashboard",children:Object(c.jsx)("p",{children:"Dashboard"})})}),!t.isLoggedIn&&Object(c.jsxs)(s.a.Fragment,{children:[Object(c.jsx)(p.c,{exact:!0,to:"/signup",children:Object(c.jsx)("p",{children:"Sign up"})}),Object(c.jsx)(p.c,{exact:!0,to:"/signin",children:Object(c.jsx)("p",{children:"Log in"})})]}),t.isLoggedIn&&Object(c.jsx)(s.a.Fragment,{children:Object(c.jsx)(p.c,{exact:!0,to:"/signin",children:Object(c.jsx)("p",{onClick:function(){v().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))},children:"Log out"})})})]})}))),T=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={articles:[]},e.handleClick=function(e){console.log("ARTICLE",e),L(e).then((function(e){console.log("data",e)})).catch((function(e){console.log(e)}))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;N().then((function(t){console.log("DATA",t),e.setState({articles:t})}))}},{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"My Dashboard"}),this.state.articles.map((function(t){return Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:t.image,onError:function(e){e.target.onerror=null,e.target.src="https://cdn.britannica.com/25/93825-050-D1300547/collection-newspapers.jpg"},alt:"Article"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:t.title}),Object(c.jsx)("p",{children:t.description}),Object(c.jsx)("p",{children:t.author}),Object(c.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:"link of the article"}),Object(c.jsx)("button",{onClick:function(){return e.handleClick(t.id)},children:"DELETE"})]})]})}))]})}}]),n}(s.a.Component);T.contextType=S;var P=T,B=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props.location.info;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Article"}),Object(c.jsx)("img",{src:e.image,alt:this.props.location.info.name}),Object(c.jsxs)("div",{className:"information",children:[Object(c.jsx)("h2",{children:e.title}),Object(c.jsx)("p",{children:e.description}),Object(c.jsx)("p",{children:e.author}),Object(c.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:"Link to the article"})]})]})}}]),n}(s.a.Component),W=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.handleChange=function(t){var n=t.target.value,c=t.target.name;e.setState(Object(w.a)({},c,n))},e.handleSubmit=function(t){t.preventDefault(),x(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("section",{className:"form-section",children:[Object(c.jsx)("header",{className:"header",children:Object(c.jsx)("h1",{children:"Welcome back"})}),Object(c.jsxs)("form",{autoComplete:"off",className:"form",onSubmit:this.handleSubmit,children:[Object(c.jsx)("h2",{children:"Login"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"label",htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{onChange:this.handleChange,value:this.state.email,className:"input",id:"email",type:"email",name:"email"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"label",htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{onChange:this.handleChange,value:this.state.password,className:"input",id:"password",type:"password",name:"password"})]}),Object(c.jsx)("button",{className:"btn-submit",children:"Let's go!"})]}),Object(c.jsxs)("div",{className:"form-section link",children:[Object(c.jsx)("p",{children:"Already have an account? "}),Object(c.jsx)(p.b,{to:"/signup",children:"Register"})]})]})}}]),n}(a.Component);W.contextType=S;var _=Object(o.g)(W),K=function(e){return Object(c.jsx)(_,{})},J=n(34);var Q=function(e){var t=e.component,n=e.render,a=Object(J.a)(e,["component","render"]);return Object(c.jsx)(S.Consumer,{children:function(e){return e.isLoading?Object(c.jsx)("div",{children:"Loading..."}):e.isLoggedIn?Object(c.jsxs)(s.a.Fragment,{children:[n&&Object(c.jsx)(o.b,Object(U.a)(Object(U.a)({},a),{},{render:n})),!n&&Object(c.jsx)(o.b,Object(U.a)(Object(U.a)({},a),{},{component:t}))]}):Object(c.jsx)(o.a,{to:"/signin"})}})};var V=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(R,{}),Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{exact:!0,path:"/",component:D}),Object(c.jsx)(Q,{exact:!0,path:"/dashboard",component:P}),Object(c.jsx)(o.b,{exact:!0,path:"/article/:id",component:B}),Object(c.jsx)(o.b,{exact:!0,path:"/signup",component:F}),Object(c.jsx)(o.b,{exact:!0,path:"/signin",component:K})]})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,68)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},H=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;C().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return Object(c.jsx)(S.Provider,{value:e,children:this.props.children})}}]),n}(a.Component);i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(p.a,{children:Object(c.jsx)(H,{children:Object(c.jsx)(V,{})})})}),document.getElementById("root")),Y()}},[[67,1,2]]]);
//# sourceMappingURL=main.d8f11fa7.chunk.js.map